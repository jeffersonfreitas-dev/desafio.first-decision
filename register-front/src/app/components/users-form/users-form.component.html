<form [formGroup]="userForm" (ngSubmit)="onSubmit()">

    <mat-form-field>
      <mat-label>Nome</mat-label>
      <input matInput formControlName="name" placeholder="Informe seu nome">
      <mat-error *ngIf="userForm.get('name')?.hasError('required')">
        O nome é obrigatório
      </mat-error>
      <mat-error *ngIf="userForm.get('name')?.hasError('minlength')">
        O nome deverá ter, no mínimo, 3 caracteres
      </mat-error>
      <mat-error *ngIf="userForm.get('name')?.hasError('maxlength')">
        O nome deverá ter, no máximo, 50 caracteres
      </mat-error>
    </mat-form-field>
    <mat-form-field>
      <mat-label>E-mail</mat-label>
      <input matInput formControlName="email" placeholder="Informe seu e-mail">
      <mat-error *ngIf="userForm.get('email')?.hasError('required')">
        O e-mail é obrigatório
      </mat-error>
      <mat-error *ngIf="userForm.get('email')?.hasError('email')">
        Informe um e-mail válido
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Senha</mat-label>
      <input matInput formControlName="password" placeholder="Informe uma senha" [type]="onPasswordShow() ? 'text': 'password'" autocomplete="on"/>

      <button mat-icon-button matSuffix (click)="passwordShow = !passwordShow" [attr.aria-label]="'Mostrar senha'" [attr.aria-pressed]="passwordShow">
        <mat-icon>{{passwordShow ? 'visibility_off' : 'visibility'}}</mat-icon>
      </button>

      <mat-error *ngIf="userForm.get('password')?.hasError('required')">
        A senha é obrigatória
      </mat-error>
      <mat-error *ngIf="userForm.get('password')?.hasError('minlength')">
        A senha deverá ter, no mínimo, 6 caracteres
      </mat-error>
      <mat-error *ngIf="userForm.get('password')?.hasError('maxlength')">
        A senha deverá ter, no máximo, 20 caracteres
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Confirme a senha</mat-label>
      <input matInput formControlName="password_confirmation" placeholder="Repita a senha"  [type]="onConfirmationShow() ? 'text': 'password'" autocomplete="on">
      <button mat-icon-button matSuffix (click)="confirmationShow = !confirmationShow" [attr.aria-label]="'Mostrar senha'" [attr.aria-pressed]="confirmationShow">
        <mat-icon>{{confirmationShow ? 'visibility_off' : 'visibility'}}</mat-icon>
      </button>
      <mat-error *ngIf="userForm.get('password_confirmation')?.hasError('required')">
        A confirmação é obrigatória
      </mat-error>
      <mat-error *ngIf="userForm.get('password_confirmation')?.hasError('minlength')">
        A confirmação deverá ter, no mínimo, 6 caracteres
      </mat-error>
      <mat-error *ngIf="userForm.get('password_confirmation')?.hasError('maxlength')">
        A confirmação deverá ter, no máximo, 20 caracteres
      </mat-error>
      <mat-error *ngIf="userForm.hasError('mismatch')">
        As senhas não coincidem
      </mat-error>
    </mat-form-field>

    <button mat-fab extended color="primary" type="submit" [disabled]="userForm.invalid" id="btn-salvar">
      <mat-icon>save</mat-icon>Salvar
    </button>

</form>
